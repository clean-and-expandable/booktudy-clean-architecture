# 1장. 설계와 아키텍처란?
## 정의

- 아키텍처: 저수준의 세부사항과는 분리된 고수준의 구조
- 설계: 저수준의 구조 또는 결정사항
- **그런데 이러한 구분은 중요하지 않다!**

## 소프트웨어에서 설계와 아키텍처

저수준의 세부사항과 고수준의 구조느 모두 소프트웨어 전체 설계의 구성 요소. 둘은 단절없이 이어진 직물과 같으며, 이를 통해 대상 시스템의 구조를 정의한다. 개별로는 존재할 수 없고, 실제로 이 둘을 구분 짓는 경계는 뚜렷하지 않다.

## 목표는?

소프트웨어 아키텍처의 목표는 필요한 시스템을 만들고 유지보수하는 데 투입되는 인력을 최소화하는데 있다. 설계 품질을 재는 척도는 고객의 요구를 만족시키는데 드는 비용을 재는 척도와 다름 없다.

## 주요 지표는?

제품 출시가 이어지다보면 추가되야하는 기능이 많아 지게 되고, 그에 따라 개발자의 수도 증가될 필요성이 있다. 변경과 확장에 용이한 좋은 아키텍처를 가진 소프트웨어면 적은 수의 개발자로도 제품 출시가 이어질 수 있지만, 그게 아니라면 더욱 많은 수의 개발자가 필요할 수 있으며 이를 넘어 아무리 많은 수의 개발자가 투입되더라도 개선이 불가한 상황으로도 이어질 수 있다.

이러한 투입 인력의 증가는 결국 경영자에게 있어 높은 비용이란 결과물로 돌아온다.

## 오해: 코드 품질과 개발 속도의 관계

일반적으로 팽배해있는 오해 중 하나가 코드 품질과 개발 속도는 반비례 관계라는 것이다. 이는 빠른 제품 출시가 필요한 스타트업의 개발자 들에게 나쁜 품질의 소프트웨어를 개발함에 있어 죄책감을 덜어주는 면죄부의 역할을 한다. 하지만 실제로는 나쁜 코드는 느리다

![image](https://user-images.githubusercontent.com/58139899/147716059-db7ac3f7-879c-4fb7-939e-7f76fdb79eeb.png)

제이슨 고먼(Jason Gorman)이란 개발자가 TDD를 사용했을 때와 사용하지 않을 때의 개발 소요시간과 관련된 시험한 결과이다. 위와 같이 TDD를 사용했을 때, 다시 말해 코드 품질을 높이기 위해 신경썼을 때 더 소요시간이 짧았음을 알 수 있다.

한 마디로 정리하자면 **빨리 가는 유일한 방법은 제대로 가는 것이다.**

소프트웨어 아키텍처를 심각하게 고려할 수 있으려면 좋은 소프트웨어 아키텍처가 무엇인지 이해해야 한다. 비용은 최소화하고 생산성은 최대화할 수 있는 설계와 아키텍처가 가진 시스템을 만들려면, 이러한 결과로 이끌어줄 시스템 아키텍처가 가진 속성을 알고 있어야한다. 다음 장 부터 이에대해 자세히 알아보자.


# 2장. 두 가지 가치에 대한 이야기
소프트웨어는 이해관계자에게 서로 다른 두 가지 가치를 제공해야 하는데, 행위와 구조가 바로 그것이다. 소프트웨어 개발자는 두 가지를 모두 반드시 높게 유지해야 하는 책임을 진다.

하나에만 집중해서는 그 소프트웨어가 계속해서 쓸모있기가 힘들다.

행위
소프트웨어의 첫 번쟤 가치는 바로 행위다. 프로그래머를 고용하는 이유는 이해관계자를 위해 기계까 수익을 창출하거나 비용을 절약하도록 만들기 위해서다. 이를 위해 프로그래머는 이해관계자가 기능 명세서나 요구사항 문서를 구체화할 수 있도록 돕는다. 그리고 이해관계자의 기계가 이러한 요구사항을 만족하도록 코드를 작성한다.

요구사항에 맞게 동작하도록 만드는 것은 중요한 부분이지만 이것만 해서는 안된다.

아키텍처
소프트웨어의 두 번째 가치는 소프트웨어라는 단어와 관련이 있다. 부드러운이라는 뜻의 SOFT와 제품이라는 뜻의 WARE의 합성어이기 때문이다.

소프트웨어는 부드러움을 지니도록 만들어져야 하며, 다시 말해 행위를 쉽게 변경할 수 있어야 한다는 의미이다. 변경이 어려워도 된다면 우리는 하드웨어라고 불렀을 것이다.

변경에 있어 겪어야 할 어려움은 그 형태가 아닌 범위만이 고려될 수 있는 아키텍처여야 한다. 아키텍처는 형태에 독립적이어야 하며 그럴 수록 좋은 아키텍처라고 할 수 있다.

우선순위, 행위 vs 아키텍처
행위와 아키텍처 둘 모두 포기하거나 타협해서는 안되는 가치이다. 하지만 둘을 동시에 선택할 수 없는 상황은 생기기 마련인데 이때 우선순위를 어떻게 두면 좋을까?

![image](https://user-images.githubusercontent.com/58139899/147716272-8367260a-90b4-47ab-90eb-21d1d180b1f2.png)

우선순위 순으로 나열하면 다음과 같다.

1. 긴급하면서 중요한 것
2. 긴급하지 않지만 중요한 것
3. 긴급하지만 중요하지 않은 것
4. 긴급하지도 중요하지도 않은 것

행위는 1번과 3번에 속할 수 있고, 아키텍처는 2번에 속할 수 있다. 소프트웨어는 요구사항에 맞게 행위를 해야지만 그 탄생 이유에 충족되기 때문이다. 하지만 그 행위 중에서도 중요하지 않은 것과 중요하지 않은 것은 있기 마련이며, 이에 대한 명확한 결정이 필요하다.

아키텍처가 2번인 이유는 요구사항대로 동작하는 소프트웨어가 만들어지더라도 확장되거나 변화할수 없다면 그 가치는 곧 상실되기 때문이다.

결론적으로 긴급하면서도 중요한 기능은 반드시 구현하되 그 과정에서 좋은 아키텍처를 유지할 수 있어야 한다.

## 결론

아키텍처가 후순위가 되면 시스템을 개발하는 비용이 더 많이 들고, 일부 또는 전체 시스템에 변경을 가하는 일이 현실적으로 불가능해진다. 이러한 상황이 발생하도록 용납했다면, 이는 결국 소프트웨어 개발팀이 스스로 옳다고 믿는 가치를 위해 충분히 투쟁하지 않았다는 의미이다.
